/* style.css - Auto-Alignment Fix */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* 1. 確保最底層背景是橘色 (Sidebar 會用到這個顏色) */
.stApp {
    background-color: #fff8e1;
    /* 橘色底 */
}

/* 2. 針對「主內容區」設定紙張背景 
   關鍵修正：使用 section[data-testid="stMain"] 
   這個區塊會自動扣除 Sidebar 的寬度，所以 50% 永遠是真正的中心
*/
section[data-testid="stMain"] {
    background-attachment: fixed;
    background-image: linear-gradient(90deg,

            /* --- 左側桌面 (0% ~ 20%) --- */
            #fff8e1 0%,
            #fffdf5 20%,

            /* --- 左邊框線 --- */
            #ffcc80 20%,
            #ffcc80 20.1%,

            /* --- 中間紙張 (20.1% ~ 79.9%) --- */
            #f8f9fa 20.1%,
            #f8f9fa 79.9%,

            /* --- 右邊框線 --- */
            #ffcc80 79.9%,
            #ffcc80 80%,

            /* --- 右側桌面 (80% ~ 100%) --- */
            #fffdf5 80%,
            #fff8e1 100%) !important;
}

/* 3. 美化標題區域 */
.stApp>header {
    background: transparent !important;
}

/* 讓標題區塊也有漸層背景，銜接自然 */
.stApp>header+div {
    background: transparent;
    padding-top: 1rem;
}

h1 {
    font-weight: 800 !important;
    background: linear-gradient(135deg, #2C3E50 0%, #4b6cb7 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
}

/* 4. 美化聊天氣泡 */
div[data-testid="stChatMessage"] {
    padding: 1.2rem 1.5rem;
    border-radius: 16px;
    margin-bottom: 1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: transform 0.2s ease;
}

div[data-testid="stChatMessage"]:hover {
    transform: translateY(-2px);
}

/* AI 氣泡 */
div[data-testid="stChatMessage"][data-testid*="assistant"] {
    background-color: #ffffff;
    border-left: 4px solid #ffcc80;
}

/* User 氣泡 */
div[data-testid="stChatMessage"][data-testid*="user"] {
    background-color: #eef1f5;
    border-right: 4px solid #4b6cb7;
}

/* 5. 側邊欄優化 */
section[data-testid="stSidebar"] {
    background-color: #fffdf5;
    /* 淺橘色背景 */
    border-right: 1px solid #ffcc80;
}

/* 6. 輸入框完美修復 (維持不變) */
div[data-testid="stChatInput"] {
    background: transparent !important;
    border: none !important;
}

div[data-testid="stChatInput"]>div {
    background-color: #f0f2f6 !important;
    border: 1px solid #ced4da !important;
    border-radius: 20px !important;
    align-items: center !important;
    padding-right: 10px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
}

div[data-testid="stChatInput"]>div:focus-within {
    border-color: #2C3E50 !important;
    background-color: #ffffff !important;
    box-shadow: 0 4px 16px rgba(44, 62, 80, 0.2) !important;
}

div[data-testid="stChatInput"] textarea {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: #31333F !important;
    padding: 12px 15px !important;
}

div[data-testid="stChatInput"] textarea:focus {
    outline: none !important;
    box-shadow: none !important;
}

div[data-testid="stChatInput"] button {
    background: transparent !important;
    border: none !important;
}