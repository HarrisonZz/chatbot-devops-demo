apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ai-chatbot-ingress
  namespace: default
  annotations:
    external-dns.alpha.kubernetes.io/hostname: www.hrscyj.uk    
    # ğŸš¨ æŒ‡å®šé€™æ˜¯ä¸€å€‹ "å…¬é–‹ (Public)" çš„ Load Balancer
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/load-balancer-name: "ai-chatbot-alb"
    
    # ğŸš¨ é—œéµï¼šä½¿ç”¨ "IP" æ¨¡å¼ã€‚
    # é€™æ¨£ ALB æœƒç›´æ¥æŠŠæµé‡é€çµ¦ Pod çš„ IP (æ•ˆç‡æœ€é«˜)ï¼Œè€Œä¸æ˜¯ç¶“é NodePort
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/ssl-redirect: '443'
    # (é¸ç”¨) è¨­å®šå¥åº·æª¢æŸ¥è·¯å¾‘ (Streamlit å°ˆç”¨)
    alb.ingress.kubernetes.io/healthcheck-path: /_stcore/health
    alb.ingress.kubernetes.io/healthcheck-protocol: HTTP
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:ap-northeast-1:533267110761:certificate/a483eca0-7a20-45de-8480-0b32a5c6ec39
spec:
  ingressClassName: alb
  rules:
    - host: www.hrscyj.uk
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: ai-chatbot-service # å°æ‡‰ä¸Šé¢çš„ Service åç¨±
                port:
                  number: 80             # å°æ‡‰ Service çš„ Port